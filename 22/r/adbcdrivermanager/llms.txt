# adbcdrivermanager

The goal of adbcdrivermanager is to provide a low-level developer-facing
interface to Arrow Database Connectivity (ADBC) for the purposes of
driver development, testing, and support for user-facing packages that
rely on ADBC drivers.

## Installation

You can install the released version of adbcdrivermanager from
[CRAN](https://cran.r-project.org/) with:

``` r

install.packages("adbcdrivermanager")
```

You can install the development version of adbcdrivermanager from
[GitHub](https://github.com/) with:

``` r

# install.packages("pak")
pak::pak("apache/arrow-adbc/r/adbcdrivermanager")
```

ADBC drivers for R use a relatively new feature of pkgbuild to enable
installation from GitHub via pak. Depending on when you installed pak,
you may need to update its internal version of pkgbuild.

``` r

install.packages("pkgbuild", pak:::private_lib_dir())
pak::cache_clean()
```

## Example

This is a basic example which shows you how to solve a common problem:

``` r

library(adbcdrivermanager)

# Get a reference to a database using a driver. The adbcdrivermanager package
# contains a few drivers useful for illustration and testing.
db <- adbc_database_init(adbcsqlite::adbcsqlite())

# Open a new connection to a database
con <- adbc_connection_init(db)

# Write a table
nycflights13::flights |> write_adbc(con, "flights")

# Issue a query
con |>
  read_adbc("SELECT * from flights") |>
  tibble::as_tibble()
#> # A tibble: 336,776 × 19
#>     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#>    <dbl> <dbl> <dbl>    <dbl>          <dbl>     <dbl>    <dbl>          <dbl>
#>  1  2013     1     1      517            515         2      830            819
#>  2  2013     1     1      533            529         4      850            830
#>  3  2013     1     1      542            540         2      923            850
#>  4  2013     1     1      544            545        -1     1004           1022
#>  5  2013     1     1      554            600        -6      812            837
#>  6  2013     1     1      554            558        -4      740            728
#>  7  2013     1     1      555            600        -5      913            854
#>  8  2013     1     1      557            600        -3      709            723
#>  9  2013     1     1      557            600        -3      838            846
#> 10  2013     1     1      558            600        -2      753            745
#> # ℹ 336,766 more rows
#> # ℹ 11 more variables: arr_delay <dbl>, carrier <chr>, flight <dbl>,
#> #   tailnum <chr>, origin <chr>, dest <chr>, air_time <dbl>, distance <dbl>,
#> #   hour <dbl>, minute <dbl>, time_hour <chr>

# Clean up!
adbc_connection_release(con)
adbc_database_release(db)
```

One can also interact with the driver manager at a lower level using
`adbc_connection_*()` and `adbc_statement_*()` functions (see reference
documentation for details).

# Package index

## All functions

- [`adbc_connection_get_info()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_get_objects()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_get_table_schema()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_get_table_types()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_read_partition()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_commit()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_rollback()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_cancel()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_get_statistic_names()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_get_statistics()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_quote_identifier()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  [`adbc_connection_quote_string()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_get_info.md)
  : Connection methods
- [`adbc_connection_init()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_init_default()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_release()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_set_options()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_get_option()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_get_option_bytes()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_get_option_int()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  [`adbc_connection_get_option_double()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_init.md)
  : Connections
- [`adbc_connection_join()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_join.md)
  [`adbc_statement_join()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_connection_join.md)
  : Join the lifecycle of a unique parent to its child
- [`adbc_database_init()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_init_default()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_release()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_set_options()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_get_option()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_get_option_bytes()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_get_option_int()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  [`adbc_database_get_option_double()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_database_init.md)
  : Databases
- [`adbc_driver_load()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_driver_load.md)
  : Low-level driver loader
- [`adbc_driver_log()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_driver_log.md)
  : Log calls to another driver
- [`adbc_driver_monkey()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_driver_monkey.md)
  : Monkey see, monkey do!
- [`adbc_driver_void()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_driver_void.md)
  [`adbc_driver()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_driver_void.md)
  : Create ADBC drivers
- [`adbc_error_from_array_stream()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_error_from_array_stream.md)
  : Get extended error information from an array stream
- [`adbc_load_flags()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_load_flags.md)
  : Driver search/load options
- [`adbc_statement_init()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_init_default()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_release()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_set_options()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_get_option()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_get_option_bytes()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_get_option_int()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  [`adbc_statement_get_option_double()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_init.md)
  : Statements
- [`adbc_statement_set_sql_query()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_set_substrait_plan()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_prepare()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_get_parameter_schema()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_bind()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_bind_stream()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_execute_query()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_execute_schema()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  [`adbc_statement_cancel()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_statement_set_sql_query.md)
  : Statement methods
- [`adbc_xptr_move()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_xptr_move.md)
  [`adbc_xptr_is_valid()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/adbc_xptr_move.md)
  : Low-level pointer details
- [`read_adbc()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/read_adbc.md)
  [`execute_adbc()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/read_adbc.md)
  [`write_adbc()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/read_adbc.md)
  : Read, write, and execute on ADBC connections
- [`with_adbc()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/with_adbc.md)
  [`local_adbc()`](https://arrow.apache.org/adbc/current/r/adbcdrivermanager/reference/with_adbc.md)
  : Cleanup helpers

